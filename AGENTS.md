# Agent Guidelines for Spec-Kit Guide

This document provides instructions and guidelines for AI agents (and human contributors) operating within this `spec-kit-guide` repository. This repository is a research project dedicated to documenting and exploring the [GitHub Spec-Kit Framework](https://github.com/github/spec-kit).

## 1. Project Structure & Organization

Agents must strictly adhere to the following directory structure when adding or modifying content:

- **`raw_data/`**: Storage for unprocessed, unsorted, and unapproved data (e.g., raw web scrapes, experimental logs, brainstorming dumps).
    - **Usage Rule**: Do NOT use data from this directory for standard queries unless explicitly instructed (e.g., "look in raw_data for usage examples").
    - **Structure**: Store new research sessions in subdirectories named with the date and topic: `raw_data/YYYY-MM-DD-topic-name/`.
    - **Indexing**: After adding data, update `raw_data/README.md` with the date, folder link, research goal, and brief results. load the `research-indexer` skill (`.opencode/skill/research-indexer/SKILL.md`) for detailed instructions.
- **`docs/`**: Refined documentation, theoretical explanations (like Spec-Driven Development principles), and official guides. Content here should be polished and well-formatted.
- **`workflows/`**: Step-by-step descriptions and examples of proven workflows (e.g., "How to go from idea to PR using Spec-Kit"). Use clear, numbered steps.
- **`commands/`**: A library of prompts, slash commands (e.g., `/speckit.specify`), and their detailed descriptions. Include examples of inputs and expected outputs.
- **`artifacts/`**: Concrete examples of documents generated by the framework, such as `spec.md`, `plan.md`, `tasks.md`. These serve as reference implementations.
- **`faq/`**: Collected questions and answers about Spec-Kit. Maintain a "Q: ... A: ..." format or use headers for questions.
- **`tricks/`**: Tips, hacks, and best practices discovered during research.

## 2. Build, Lint, and Verification Commands

Since this is a documentation-heavy repository, "building" refers to validating the content integrity.

### Prerequisites
- Node.js (for markdownlint-cli)
- Python 3.11+ (if running Spec-Kit CLI tools for verification)

### Validation Commands

Agents should run the following commands to verify changes before finalizing them:

1.  **Lint Markdown**: Ensure all markdown files follow standard formatting.
    ```bash
    # Install markdownlint-cli if not present
    # npm install -g markdownlint-cli

    # Run linting on all markdown files
    markdownlint "**/*.md" --ignore "node_modules"
    ```

2.  **Check Links**: Verify that all internal and external links are valid.
    ```bash
    # Example using a link checker tool (if available in environment)
    # npx markdown-link-check "**/*.md"
    ```

3.  **Validate Directory Structure**: Ensure no files are placed in the root directory (except `README.md`, `AGENTS.md`, `LICENSE`). All content must go into the appropriate subfolders.

4.  **Single File Verification**: To check a specific file you just edited:
    ```bash
    markdownlint "docs/spec-driven.md"
    ```

### Spec-Kit CLI (Reference)
If you need to generate artifacts or verify prompts using the actual Spec-Kit CLI:
```bash
# Install Spec-Kit CLI
uv tool install specify-cli --from git+https://github.com/github/spec-kit.git

# Initialize a test project (in a temporary directory)
mkdir temp_test && cd temp_test
specify init --here --ai claude
```

## 3. Code Style & Conventions

### file Naming
- **Format**: Use `kebab-case` for all filenames and directories.
    - Good: `spec-driven-development.md`, `workflows/advanced-setup.md`
    - Bad: `SpecDrivenDevelopment.md`, `workflows/Advanced Setup.md`
- **Extensions**: Always use `.md` for markdown, `.json` for data, `.png`/`.webp` for images.

### Markdown Formatting
- **Headers**: Use ATX-style headers (`#`, `##`).
    - Top-level header (`#`) should appear only once per file (the title).
    - Section headers start at `##`.
- **Code Blocks**: Always specify the language for syntax highlighting.
    - Good:
      ```bash
      echo "Hello"
      ```
    - Bad:
      ```
      echo "Hello"
      ```
- **Links**: Use relative paths for internal links.
    - Good: `[See Architecture](docs/architecture.md)`
    - Bad: `[See Architecture](/docs/architecture.md)` (absolute paths can break in some viewers)

### Content Guidelines
- **Clarity**: Write simple, direct sentences. Avoid jargon unless defined.
- **Attribution**: If content is copied from the official repo, mention the source and commit SHA in `raw_data/` metadata or comments.
- **Examples**: When documenting commands, always provide a "Example Input" and "Example Output" section.

## 4. Agent Operational Rules

1.  **Read First**: Before creating new content, search existing directories (`grep`, `glob`) to avoid duplicates.
2.  **Context Awareness**: Understand that this is a *guide* about Spec-Kit, not the Spec-Kit repo itself. However, you may be asked to *act* as if you are using Spec-Kit.
3.  **Proactive Organization**: If you see files in the root that belong in a subdirectory, move them.
4.  **Update Indices**: If you add a new workflow, update the main `README.md` or the `workflows/README.md` index to include it.

## 5. Copilot & Cursor Instructions

If you are an agent operating via GitHub Copilot or Cursor, follow these specific instructions found in `.cursor/rules` or `.github/copilot-instructions.md` (if they exist).

### Core Rules for Spec-Kit Assistance:
- **SDD First**: Always prioritize Spec-Driven Development principles (Spec -> Plan -> Code). Do not suggest writing code without a spec first.
- **Constitution**: Reference `docs/spec-driven.md` to understand the "Constitution" concept. When acting as a Spec-Kit agent, ensure you respect the "Library-First" and "Test-First" articles.
- **Commands**: When asked "how do I...", prefer suggesting the relevant `/speckit.*` slash command over manual steps.
    - Example: Use `/speckit.specify` instead of "Write a text file named spec.md".

### Example Interaction
**User**: "I want to build a todo app."
**Agent**: "I can help with that using Spec-Kit. Let's start by defining the specification.
Run the following command to kick off the process:
`/speckit.specify Build a simple Todo App with add, remove, and list functionality.`
This will generate the branch and initial `spec.md` for you."

## 6. Error Handling

- **Missing Content**: If a user asks for a specific workflow that isn't documented, state "That workflow is not yet documented in `workflows/`" and offer to research/create it using `raw_data`.
- **Ambiguity**: If a Spec-Kit command has changed (check `docs/` vs `raw_data/`), prefer the information in `docs/` as the source of truth, but verify with the official repo if possible.

## 7. Versioning

- Mention the version of Spec-Kit this guide targets (currently tracking `main` branch of `github/spec-kit`).
- When updating `raw_data`, commit the SHA of the source to keep track of freshness.

---
*End of Agent Guidelines*
